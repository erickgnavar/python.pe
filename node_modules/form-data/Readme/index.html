
  <!DOCTYPE html>
<html lang="es" data-accent-color="tomato" data-content_root="../../../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Form-Data - Python Perú</title>
    <link rel="shortcut icon" href="../../../_static/favicon-48x48.png"/><link rel="author" title="Sobre este documento" href="../../../about/" /><link rel="index" title="Índice" href="../../../genindex/" /><link rel="search" title="Búsqueda" href="../../../search/" />
      <link rel="canonical" href="https://python.pe/node_modules/form-data/Readme/" />

  <script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(sessionStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=aecf457f" />
    <link rel="stylesheet" type="text/css" href="../../../_static/shibuya.css?v=8835306a" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link media="print" rel="stylesheet" type="text/css" href="../../../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/markdown.css?v=c2aafb25" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    
<meta name="robots" content="follow, index">
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Form-Data  " />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.python.pe/node_modules/form-data/Readme/" />
<meta property="og:site_name" content="Python Perú" />
<meta property="og:description" content="Form-Data NPM Module Join the chat at https://gitter.im/form-data/form-data: A library to create readable&quot;multipart/form-data&quot; streams. Can be used to submit forms and file uploads to other web app..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://www.python.pe/_images/social_previews/summary_node_modules_form-data_Readme_89b7b842.png" />
<meta property="og:image:alt" content="Form-Data NPM Module Join the chat at https://gitter.im/form-data/form-data: A library to create readable&quot;multipart/form-data&quot; streams. Can be used to submit..." />
<meta name="description" content="Form-Data NPM Module Join the chat at https://gitter.im/form-data/form-data: A library to create readable&quot;multipart/form-data&quot; streams. Can be used to submit forms and file uploads to other web app..." />
<meta name="twitter:card" content="summary_large_image" />


  
</head>
<body><div class="document"><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand mr-4" href="../../../">
      <img class="light-logo" src="../../../_static/logo.svg" alt="Python Perú" height="28" />
      <img class="dark-logo" src="../../../_static/logo.svg" alt="Python Perú" height="28" />
      <strong>Python Perú</strong>
    </a>
    <div class="sy-head-links" id="NavLinks">
      <nav class="sy-head-nav"></nav>
      <div class="sy-head-extra flex items-center print:hidden">
<form class="searchbox flex items-center" action="../../../search/" method="get">
  <input type="text" name="q" placeholder="Búsqueda" />
  <kbd>/</kbd>
</form>
        
        
        <div class="sy-head-social flex items-center">
        </div>
      </div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden">
      <button class="js-theme theme-switch flex items-center"
        data-aria-auto="Cambiar a modo claro"
        data-aria-light="Cambiar a modo oscuro"
        data-aria-dark="Cambiar a modo aŭtomata">
        <i class="i-icon theme-icon"></i>
      </button>
      <button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="NavLinks" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="1"><p class="caption" role="heading"><span class="caption-text">Secci&#243;nes</span></p>
<ul>
<li class="toctree-l1 _expand"><a class="reference internal" href="../../../about/">Acerca de la Comunidad de Python Per&#250;</a></li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../../../events/">Eventos</a></li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../../../code-of-conduct/">Conducta</a></li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../../../code-of-conduct/#moderacion">Moderaci&#243;n</a></li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../../../learning-path/">&#161;Python de cero a Pro!</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../learning-path/python-developer/">Desarrollador Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../learning-path/web-developer/">Desarrollador Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../learning-path/data-science/">Ciencias de Datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../learning-path/cloud-devops/">Cloud y DevOps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../learning-path/machine-learning-ai/">Machine Learning e IA</a></li>
</ul>
</li>
</ul>
        </div>
      </div>
      
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-icon close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4">
  <div class="localtoc">
    <h3>En esta página</h3>
    <ul>
<li><a class="reference internal" href="#install">Install</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#custom-options">Custom options</a></li>
<li><a class="reference internal" href="#alternative-submission-methods">Alternative submission methods</a></li>
<li><a class="reference internal" href="#methods">Methods</a><ul>
<li><a class="reference internal" href="#void-append-string-field-mixed-value-mixed-options"><em>Void</em> append( <strong>String</strong> <em>field</em>, <strong>Mixed</strong> <em>value</em> [, <strong>Mixed</strong> <em>options</em>] )</a></li>
<li><a class="reference internal" href="#headers-getheaders-headers-userheaders"><em>Headers</em> getHeaders( [<strong>Headers</strong> <em>userHeaders</em>] )</a></li>
<li><a class="reference internal" href="#string-getboundary"><em>String</em> getBoundary()</a></li>
<li><a class="reference internal" href="#void-setboundary-string-boundary"><em>Void</em> setBoundary(String <em>boundary</em>)</a></li>
<li><a class="reference internal" href="#buffer-getbuffer"><em>Buffer</em> getBuffer()</a></li>
<li><a class="reference internal" href="#integer-getlengthsync"><em>Integer</em> getLengthSync()</a></li>
<li><a class="reference internal" href="#integer-getlength-function-callback"><em>Integer</em> getLength( <strong>function</strong> <em>callback</em> )</a></li>
<li><a class="reference internal" href="#boolean-hasknownlength"><em>Boolean</em> hasKnownLength()</a></li>
<li><a class="reference internal" href="#request-submit-params-function-callback"><em>Request</em> submit( <em>params</em>, <strong>function</strong> <em>callback</em> )</a></li>
<li><a class="reference internal" href="#string-tostring"><em>String</em> toString()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration-with-other-libraries">Integration with other libraries</a><ul>
<li><a class="reference internal" href="#request">Request</a></li>
<li><a class="reference internal" href="#node-fetch">node-fetch</a></li>
<li><a class="reference internal" href="#axios">axios</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#notes">Notes</a></li>
<li><a class="reference internal" href="#license">License</a></li>
</ul>

  </div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div>
    </div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
    <div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-icon menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList">
      
      
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../../../"><span itemprop="name">Python Perú</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li>
      
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Form-Data  </strong>
        <meta itemprop="position" content="2" />
      </li>
      
      
    </ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-icon outdent"></i>
      </button>
    </div>
  </div>
</div>
    <div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="form-data">
<h1>Form-Data <a class="reference external" href="https://www.npmjs.com/package/form-data"><img alt="NPM Module" src="https://img.shields.io/npm/v/form-data.svg" /></a> <a class="reference external" href="https://gitter.im/form-data/form-data"><img alt="Join the chat at https://gitter.im/form-data/form-data" src="http://form-data.github.io/images/gitterbadge.svg" /></a><a class="headerlink" href="#form-data" title="Link to this heading">¶</a></h1>
<p>A library to create readable <code class="docutils literal notranslate"><span class="pre">&quot;multipart/form-data&quot;</span></code> streams. Can be used to submit forms and file uploads to other web applications.</p>
<p>The API of this library is inspired by the <a class="reference external" href="http://dev.w3.org/2006/webapi/XMLHttpRequest-2/Overview.html#the-formdata-interface">XMLHttpRequest-2 FormData Interface</a>.</p>
<p><a class="reference external" href="https://travis-ci.org/form-data/form-data"><img alt="Linux Build" src="https://img.shields.io/travis/form-data/form-data/master.svg?label=linux:6.x-12.x" /></a>
<a class="reference external" href="https://travis-ci.org/form-data/form-data"><img alt="MacOS Build" src="https://img.shields.io/travis/form-data/form-data/master.svg?label=macos:6.x-12.x" /></a>
<a class="reference external" href="https://travis-ci.org/form-data/form-data"><img alt="Windows Build" src="https://img.shields.io/travis/form-data/form-data/master.svg?label=windows:6.x-12.x" /></a></p>
<p><a class="reference external" href="https://coveralls.io/github/form-data/form-data?branch=master"><img alt="Coverage Status" src="https://img.shields.io/coveralls/form-data/form-data/master.svg?label=code+coverage" /></a>
<a class="reference external" href="https://david-dm.org/form-data/form-data"><img alt="Dependency Status" src="https://img.shields.io/david/form-data/form-data.svg" /></a></p>
<section id="install">
<h2>Install<a class="headerlink" href="#install" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span> <span class="n">form</span><span class="o">-</span><span class="n">data</span>
</span></pre></div>
</div>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p>In this example we are constructing a form with 3 fields that contain a string,
a buffer and a file stream.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">FormData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;form-data&#39;</span><span class="p">);</span>
</span><span id="1-2"><span class="kd">var</span><span class="w"> </span><span class="nx">fs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span><span id="1-3">
</span><span id="1-4"><span class="kd">var</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="1-5"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_field&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;my value&#39;</span><span class="p">);</span>
</span><span id="1-6"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_buffer&#39;</span><span class="p">,</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Buffer</span><span class="p">(</span><span class="mf">10</span><span class="p">));</span>
</span><span id="1-7"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_file&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s1">&#39;/foo/bar.jpg&#39;</span><span class="p">));</span>
</span></pre></div>
</div>
<p>Also you can use http-response stream:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">FormData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;form-data&#39;</span><span class="p">);</span>
</span><span id="1-2"><span class="kd">var</span><span class="w"> </span><span class="nx">http</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">);</span>
</span><span id="1-3">
</span><span id="1-4"><span class="kd">var</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="1-5">
</span><span id="1-6"><span class="nx">http</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="s1">&#39;http://nodejs.org/images/logo.png&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-7"><span class="w">  </span><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_field&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;my value&#39;</span><span class="p">);</span>
</span><span id="1-8"><span class="w">  </span><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_buffer&#39;</span><span class="p">,</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Buffer</span><span class="p">(</span><span class="mf">10</span><span class="p">));</span>
</span><span id="1-9"><span class="w">  </span><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_logo&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">response</span><span class="p">);</span>
</span><span id="1-10"><span class="p">});</span>
</span></pre></div>
</div>
<p>Or &#64;mikeal’s <a class="reference external" href="https://github.com/request/request">request</a> stream:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">FormData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;form-data&#39;</span><span class="p">);</span>
</span><span id="1-2"><span class="kd">var</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;request&#39;</span><span class="p">);</span>
</span><span id="1-3">
</span><span id="1-4"><span class="kd">var</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="1-5">
</span><span id="1-6"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_field&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;my value&#39;</span><span class="p">);</span>
</span><span id="1-7"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_buffer&#39;</span><span class="p">,</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Buffer</span><span class="p">(</span><span class="mf">10</span><span class="p">));</span>
</span><span id="1-8"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_logo&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">request</span><span class="p">(</span><span class="s1">&#39;http://nodejs.org/images/logo.png&#39;</span><span class="p">));</span>
</span></pre></div>
</div>
<p>In order to submit this form to a web application, call <code class="docutils literal notranslate"><span class="pre">submit(url,</span> <span class="pre">[callback])</span></code> method:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">(</span><span class="s1">&#39;http://example.org/&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-2"><span class="w">  </span><span class="c1">// res – response object (http.IncomingMessage)  //</span>
</span><span id="1-3"><span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">resume</span><span class="p">();</span>
</span><span id="1-4"><span class="p">});</span>
</span></pre></div>
</div>
<p>For more advanced request manipulations <code class="docutils literal notranslate"><span class="pre">submit()</span></code> method returns <code class="docutils literal notranslate"><span class="pre">http.ClientRequest</span></code> object, or you can choose from one of the alternative submission methods.</p>
<section id="custom-options">
<h3>Custom options<a class="headerlink" href="#custom-options" title="Link to this heading">¶</a></h3>
<p>You can provide custom options, such as <code class="docutils literal notranslate"><span class="pre">maxDataSize</span></code>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">FormData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;form-data&#39;</span><span class="p">);</span>
</span><span id="1-2">
</span><span id="1-3"><span class="kd">var</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">({</span><span class="w"> </span><span class="nx">maxDataSize</span><span class="o">:</span><span class="w"> </span><span class="mf">20971520</span><span class="w"> </span><span class="p">});</span>
</span><span id="1-4"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_field&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;my value&#39;</span><span class="p">);</span>
</span><span id="1-5"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_buffer&#39;</span><span class="p">,</span><span class="w"> </span><span class="cm">/* something big */</span><span class="p">);</span>
</span></pre></div>
</div>
<p>List of available options could be found in <a class="reference external" href="https://github.com/felixge/node-combined-stream/blob/master/lib/combined_stream.js#L7-L15">combined-stream</a></p>
</section>
<section id="alternative-submission-methods">
<h3>Alternative submission methods<a class="headerlink" href="#alternative-submission-methods" title="Link to this heading">¶</a></h3>
<p>You can use node’s http client interface:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">http</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">);</span>
</span><span id="1-2">
</span><span id="1-3"><span class="kd">var</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
</span><span id="1-4"><span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;post&#39;</span><span class="p">,</span>
</span><span id="1-5"><span class="w">  </span><span class="nx">host</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;example.org&#39;</span><span class="p">,</span>
</span><span id="1-6"><span class="w">  </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/upload&#39;</span><span class="p">,</span>
</span><span id="1-7"><span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">form</span><span class="p">.</span><span class="nx">getHeaders</span><span class="p">()</span>
</span><span id="1-8"><span class="p">});</span>
</span><span id="1-9">
</span><span id="1-10"><span class="nx">form</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">request</span><span class="p">);</span>
</span><span id="1-11">
</span><span id="1-12"><span class="nx">request</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;response&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-13"><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
</span><span id="1-14"><span class="p">});</span>
</span></pre></div>
</div>
<p>Or if you would prefer the <code class="docutils literal notranslate"><span class="pre">'Content-Length'</span></code> header to be set for you:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">(</span><span class="s1">&#39;example.org/upload&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-2"><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
</span><span id="1-3"><span class="p">});</span>
</span></pre></div>
</div>
<p>To use custom headers and pre-known length in parts:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">CRLF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;\r\n&#39;</span><span class="p">;</span>
</span><span id="1-2"><span class="kd">var</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="1-3">
</span><span id="1-4"><span class="kd">var</span><span class="w"> </span><span class="nx">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-5"><span class="w">  </span><span class="nx">header</span><span class="o">:</span><span class="w"> </span><span class="nx">CRLF</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;--&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">form</span><span class="p">.</span><span class="nx">getBoundary</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">CRLF</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;X-Custom-Header: 123&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">CRLF</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">CRLF</span><span class="p">,</span>
</span><span id="1-6"><span class="w">  </span><span class="nx">knownLength</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span>
</span><span id="1-7"><span class="p">};</span>
</span><span id="1-8">
</span><span id="1-9"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;my_buffer&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">buffer</span><span class="p">,</span><span class="w"> </span><span class="nx">options</span><span class="p">);</span>
</span><span id="1-10">
</span><span id="1-11"><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">(</span><span class="s1">&#39;http://example.com/&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-12"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="nx">err</span><span class="p">;</span>
</span><span id="1-13"><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">);</span>
</span><span id="1-14"><span class="p">});</span>
</span></pre></div>
</div>
<p>Form-Data can recognize and fetch all the required information from common types of streams (<code class="docutils literal notranslate"><span class="pre">fs.readStream</span></code>, <code class="docutils literal notranslate"><span class="pre">http.response</span></code> and <code class="docutils literal notranslate"><span class="pre">mikeal's</span> <span class="pre">request</span></code>), for some other types of streams you’d need to provide “file”-related information manually:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="nx">someModule</span><span class="p">.</span><span class="nx">stream</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">stdout</span><span class="p">,</span><span class="w"> </span><span class="nx">stderr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-2"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="nx">err</span><span class="p">;</span>
</span><span id="1-3">
</span><span id="1-4"><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="1-5">
</span><span id="1-6"><span class="w">  </span><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">stdout</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-7"><span class="w">    </span><span class="nx">filename</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unicycle.jpg&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// ... or:</span>
</span><span id="1-8"><span class="w">    </span><span class="nx">filepath</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;photos/toys/unicycle.jpg&#39;</span><span class="p">,</span>
</span><span id="1-9"><span class="w">    </span><span class="nx">contentType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;image/jpeg&#39;</span><span class="p">,</span>
</span><span id="1-10"><span class="w">    </span><span class="nx">knownLength</span><span class="o">:</span><span class="w"> </span><span class="mf">19806</span>
</span><span id="1-11"><span class="w">  </span><span class="p">});</span>
</span><span id="1-12">
</span><span id="1-13"><span class="w">  </span><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">(</span><span class="s1">&#39;http://example.com/&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-14"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="nx">err</span><span class="p">;</span>
</span><span id="1-15"><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">);</span>
</span><span id="1-16"><span class="w">  </span><span class="p">});</span>
</span><span id="1-17"><span class="p">});</span>
</span></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">filepath</span></code> property overrides <code class="docutils literal notranslate"><span class="pre">filename</span></code> and may contain a relative path. This is typically used when uploading <a class="reference external" href="https://wicg.github.io/entries-api/#dom-htmlinputelement-webkitdirectory">multiple files from a directory</a>.</p>
<p>For edge cases, like POST request to URL with query string or to pass HTTP auth credentials, object can be passed to <code class="docutils literal notranslate"><span class="pre">form.submit()</span></code> as first parameter:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">({</span>
</span><span id="1-2"><span class="w">  </span><span class="nx">host</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;example.com&#39;</span><span class="p">,</span>
</span><span id="1-3"><span class="w">  </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/probably.php?extra=params&#39;</span><span class="p">,</span>
</span><span id="1-4"><span class="w">  </span><span class="nx">auth</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;username:password&#39;</span>
</span><span id="1-5"><span class="p">},</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-6"><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
</span><span id="1-7"><span class="p">});</span>
</span></pre></div>
</div>
<p>In case you need to also send custom HTTP headers with the POST request, you can use the <code class="docutils literal notranslate"><span class="pre">headers</span></code> key in first parameter of <code class="docutils literal notranslate"><span class="pre">form.submit()</span></code>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">({</span>
</span><span id="1-2"><span class="w">  </span><span class="nx">host</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;example.com&#39;</span><span class="p">,</span>
</span><span id="1-3"><span class="w">  </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/surelynot.php&#39;</span><span class="p">,</span>
</span><span id="1-4"><span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;x-test-header&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;test-header-value&#39;</span><span class="p">}</span>
</span><span id="1-5"><span class="p">},</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-6"><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">);</span>
</span><span id="1-7"><span class="p">});</span>
</span></pre></div>
</div>
</section>
<section id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/form-data/form-data#void-append-string-field-mixed-value--mixed-options-"><em>Void</em> append( <strong>String</strong> <em>field</em>, <strong>Mixed</strong> <em>value</em> [, <strong>Mixed</strong> <em>options</em>] )</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/form-data/form-data#array-getheaders-array-userheaders-"><em>Headers</em> getHeaders( [<strong>Headers</strong> <em>userHeaders</em>] )</a></p></li>
<li><p><a class="reference external" href="https://github.com/form-data/form-data#string-getboundary"><em>String</em> getBoundary()</a></p></li>
<li><p><a class="reference external" href="https://github.com/form-data/form-data#void-setboundary"><em>Void</em> setBoundary()</a></p></li>
<li><p><a class="reference external" href="https://github.com/form-data/form-data#buffer-getbuffer"><em>Buffer</em> getBuffer()</a></p></li>
<li><p><a class="reference external" href="https://github.com/form-data/form-data#integer-getlengthsync"><em>Integer</em> getLengthSync()</a></p></li>
<li><p><a class="reference external" href="https://github.com/form-data/form-data#integer-getlength-function-callback-"><em>Integer</em> getLength( <strong>function</strong> <em>callback</em> )</a></p></li>
<li><p><a class="reference external" href="https://github.com/form-data/form-data#boolean-hasknownlength"><em>Boolean</em> hasKnownLength()</a></p></li>
<li><p><a class="reference external" href="https://github.com/form-data/form-data#request-submit-params-function-callback-"><em>Request</em> submit( <em>params</em>, <strong>function</strong> <em>callback</em> )</a></p></li>
<li><p><a class="reference external" href="https://github.com/form-data/form-data#string-tostring"><em>String</em> toString()</a></p></li>
</ul>
<section id="void-append-string-field-mixed-value-mixed-options">
<h4><em>Void</em> append( <strong>String</strong> <em>field</em>, <strong>Mixed</strong> <em>value</em> [, <strong>Mixed</strong> <em>options</em>] )<a class="headerlink" href="#void-append-string-field-mixed-value-mixed-options" title="Link to this heading">¶</a></h4>
<p>Append data to the form. You can submit about any format (string, integer, boolean, buffer, etc.). However, Arrays are not supported and need to be turned into strings by the user.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="1-2"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;my_string&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;my value&#39;</span><span class="w"> </span><span class="p">);</span>
</span><span id="1-3"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;my_integer&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">);</span>
</span><span id="1-4"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;my_boolean&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">);</span>
</span><span id="1-5"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;my_buffer&#39;</span><span class="p">,</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Buffer</span><span class="p">(</span><span class="mf">10</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
</span><span id="1-6"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;my_array_as_json&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;bird&#39;</span><span class="p">,</span><span class="s1">&#39;cute&#39;</span><span class="p">]</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
</span></pre></div>
</div>
<p>You may provide a string for options, or an object.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="c1">// Set filename by providing a string for options</span>
</span><span id="1-2"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;my_file&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s1">&#39;/foo/bar.jpg&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;bar.jpg&#39;</span><span class="w"> </span><span class="p">);</span>
</span><span id="1-3">
</span><span id="1-4"><span class="c1">// provide an object.</span>
</span><span id="1-5"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;my_file&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s1">&#39;/foo/bar.jpg&#39;</span><span class="p">),</span><span class="w"> </span><span class="p">{</span><span class="nx">filename</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bar.jpg&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">contentType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;image/jpeg&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">knownLength</span><span class="o">:</span><span class="w"> </span><span class="mf">19806</span><span class="p">}</span><span class="w"> </span><span class="p">);</span>
</span></pre></div>
</div>
</section>
<section id="headers-getheaders-headers-userheaders">
<h4><em>Headers</em> getHeaders( [<strong>Headers</strong> <em>userHeaders</em>] )<a class="headerlink" href="#headers-getheaders-headers-userheaders" title="Link to this heading">¶</a></h4>
<p>This method adds the correct <code class="docutils literal notranslate"><span class="pre">content-type</span></code> header to the provided array of <code class="docutils literal notranslate"><span class="pre">userHeaders</span></code>.</p>
</section>
<section id="string-getboundary">
<h4><em>String</em> getBoundary()<a class="headerlink" href="#string-getboundary" title="Link to this heading">¶</a></h4>
<p>Return the boundary of the formData. By default, the boundary consists of 26 <code class="docutils literal notranslate"><span class="pre">-</span></code> followed by 24 numbers
for example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="o">--------------------------</span><span class="mf">515890814546601021194782</span>
</span></pre></div>
</div>
</section>
<section id="void-setboundary-string-boundary">
<h4><em>Void</em> setBoundary(String <em>boundary</em>)<a class="headerlink" href="#void-setboundary-string-boundary" title="Link to this heading">¶</a></h4>
<p>Set the boundary string, overriding the default behavior described above.</p>
<p><em>Note: The boundary must be unique and may not appear in the data.</em></p>
</section>
<section id="buffer-getbuffer">
<h4><em>Buffer</em> getBuffer()<a class="headerlink" href="#buffer-getbuffer" title="Link to this heading">¶</a></h4>
<p>Return the full formdata request package, as a Buffer. You can insert this Buffer in e.g. Axios to send multipart data.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="1-2"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;my_buffer&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">Buffer</span><span class="p">.</span><span class="kr">from</span><span class="p">([</span><span class="mh">0x4a</span><span class="p">,</span><span class="mh">0x42</span><span class="p">,</span><span class="mh">0x20</span><span class="p">,</span><span class="mh">0x52</span><span class="p">,</span><span class="mh">0x6f</span><span class="p">,</span><span class="mh">0x63</span><span class="p">,</span><span class="mh">0x6b</span><span class="p">,</span><span class="mh">0x73</span><span class="p">])</span><span class="w"> </span><span class="p">);</span>
</span><span id="1-3"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;my_file&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;/foo/bar.jpg&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
</span><span id="1-4">
</span><span id="1-5"><span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;https://example.com/path/to/api&#39;</span><span class="p">,</span>
</span><span id="1-6"><span class="w">            </span><span class="nx">form</span><span class="p">.</span><span class="nx">getBuffer</span><span class="p">(),</span>
</span><span id="1-7"><span class="w">            </span><span class="nx">form</span><span class="p">.</span><span class="nx">getHeaders</span><span class="p">()</span>
</span><span id="1-8"><span class="w">          </span><span class="p">)</span>
</span></pre></div>
</div>
<p><strong>Note:</strong> Because the output is of type Buffer, you can only append types that are accepted by Buffer: <em>string, Buffer, ArrayBuffer, Array, or Array-like Object</em>. A ReadStream for example will result in an error.</p>
</section>
<section id="integer-getlengthsync">
<h4><em>Integer</em> getLengthSync()<a class="headerlink" href="#integer-getlengthsync" title="Link to this heading">¶</a></h4>
<p>Same as <code class="docutils literal notranslate"><span class="pre">getLength</span></code> but synchronous.</p>
<p><em>Note: getLengthSync <strong>doesn’t</strong> calculate streams length.</em></p>
</section>
<section id="integer-getlength-function-callback">
<h4><em>Integer</em> getLength( <strong>function</strong> <em>callback</em> )<a class="headerlink" href="#integer-getlength-function-callback" title="Link to this heading">¶</a></h4>
<p>Returns the <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> async. The callback is used to handle errors and continue once the length has been calculated</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="k">this</span><span class="p">.</span><span class="nx">getLength</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-2"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-3"><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">_error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
</span><span id="1-4"><span class="w">    </span><span class="k">return</span><span class="p">;</span>
</span><span id="1-5"><span class="w">  </span><span class="p">}</span>
</span><span id="1-6">
</span><span id="1-7"><span class="w">  </span><span class="c1">// add content length</span>
</span><span id="1-8"><span class="w">  </span><span class="nx">request</span><span class="p">.</span><span class="nx">setHeader</span><span class="p">(</span><span class="s1">&#39;Content-Length&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">length</span><span class="p">);</span>
</span><span id="1-9">
</span><span id="1-10"><span class="w">  </span><span class="p">...</span>
</span><span id="1-11"><span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
</span></pre></div>
</div>
</section>
<section id="boolean-hasknownlength">
<h4><em>Boolean</em> hasKnownLength()<a class="headerlink" href="#boolean-hasknownlength" title="Link to this heading">¶</a></h4>
<p>Checks if the length of added values is known.</p>
</section>
<section id="request-submit-params-function-callback">
<h4><em>Request</em> submit( <em>params</em>, <strong>function</strong> <em>callback</em> )<a class="headerlink" href="#request-submit-params-function-callback" title="Link to this heading">¶</a></h4>
<p>Submit the form to a web application.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="1-2"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;my_string&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hello World&#39;</span><span class="w"> </span><span class="p">);</span>
</span><span id="1-3">
</span><span id="1-4"><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;http://example.com/&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-5"><span class="w">  </span><span class="c1">// res – response object (http.IncomingMessage)  //</span>
</span><span id="1-6"><span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">resume</span><span class="p">();</span>
</span><span id="1-7"><span class="p">}</span><span class="w"> </span><span class="p">);</span>
</span></pre></div>
</div>
</section>
<section id="string-tostring">
<h4><em>String</em> toString()<a class="headerlink" href="#string-tostring" title="Link to this heading">¶</a></h4>
<p>Returns the form data as a string. Don’t use this if you are sending files or buffers, use <code class="docutils literal notranslate"><span class="pre">getBuffer()</span></code> instead.</p>
</section>
</section>
<section id="integration-with-other-libraries">
<h3>Integration with other libraries<a class="headerlink" href="#integration-with-other-libraries" title="Link to this heading">¶</a></h3>
<section id="request">
<h4>Request<a class="headerlink" href="#request" title="Link to this heading">¶</a></h4>
<p>Form submission using  <a class="reference external" href="https://github.com/request/request">request</a>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-2"><span class="w">  </span><span class="nx">my_field</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;my_value&#39;</span><span class="p">,</span>
</span><span id="1-3"><span class="w">  </span><span class="nx">my_file</span><span class="o">:</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="nx">__dirname</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;/unicycle.jpg&#39;</span><span class="p">),</span>
</span><span id="1-4"><span class="p">};</span>
</span><span id="1-5">
</span><span id="1-6"><span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span><span class="nx">url</span><span class="o">:</span><span class="s1">&#39;http://service.com/upload&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">formData</span><span class="o">:</span><span class="w"> </span><span class="nx">formData</span><span class="p">},</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">httpResponse</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-7"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-8"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;upload failed:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">);</span>
</span><span id="1-9"><span class="w">  </span><span class="p">}</span>
</span><span id="1-10"><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Upload successful!  Server responded with:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">);</span>
</span><span id="1-11"><span class="p">});</span>
</span></pre></div>
</div>
<p>For more details see <a class="reference external" href="https://github.com/request/request#multipartform-data-multipart-form-uploads">request readme</a>.</p>
</section>
<section id="node-fetch">
<h4>node-fetch<a class="headerlink" href="#node-fetch" title="Link to this heading">¶</a></h4>
<p>You can also submit a form using <a class="reference external" href="https://github.com/bitinn/node-fetch">node-fetch</a>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">var</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="1-2">
</span><span id="1-3"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
</span><span id="1-4">
</span><span id="1-5"><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;http://example.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="p">})</span>
</span><span id="1-6"><span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-7"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
</span><span id="1-8"><span class="w">    </span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-9"><span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
</span><span id="1-10"><span class="w">    </span><span class="p">});</span>
</span></pre></div>
</div>
</section>
<section id="axios">
<h4>axios<a class="headerlink" href="#axios" title="Link to this heading">¶</a></h4>
<p>In Node.js you can post a file using <a class="reference external" href="https://github.com/axios/axios">axios</a>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kd">const</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="1-2"><span class="kd">const</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="nx">PATH_TO_FILE</span><span class="p">);</span>
</span><span id="1-3">
</span><span id="1-4"><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">stream</span><span class="p">);</span>
</span><span id="1-5">
</span><span id="1-6"><span class="c1">// In Node.js environment you need to set boundary in the header field &#39;Content-Type&#39; by calling method `getHeaders`</span>
</span><span id="1-7"><span class="kd">const</span><span class="w"> </span><span class="nx">formHeaders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">form</span><span class="p">.</span><span class="nx">getHeaders</span><span class="p">();</span>
</span><span id="1-8">
</span><span id="1-9"><span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;http://example.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">form</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-10"><span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="1-11"><span class="w">    </span><span class="p">...</span><span class="nx">formHeaders</span><span class="p">,</span>
</span><span id="1-12"><span class="w">  </span><span class="p">},</span>
</span><span id="1-13"><span class="p">})</span>
</span><span id="1-14"><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">response</span><span class="p">)</span>
</span><span id="1-15"><span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">error</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
</section>
</section>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">getLengthSync()</span></code> method DOESN’T calculate length for streams, use <code class="docutils literal notranslate"><span class="pre">knownLength</span></code> options as workaround.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getLength(cb)</span></code> will send an error as first parameter of callback if stream length cannot be calculated (e.g. send in custom streams w/o using <code class="docutils literal notranslate"><span class="pre">knownLength</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">submit</span></code> will not add <code class="docutils literal notranslate"><span class="pre">content-length</span></code> if form length is unknown or not calculable.</p></li>
<li><p>Starting version <code class="docutils literal notranslate"><span class="pre">2.x</span></code> FormData has dropped support for <code class="docutils literal notranslate"><span class="pre">node&#64;0.10.x</span></code>.</p></li>
<li><p>Starting version <code class="docutils literal notranslate"><span class="pre">3.x</span></code> FormData has dropped support for <code class="docutils literal notranslate"><span class="pre">node&#64;4.x</span></code>.</p></li>
</ul>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Link to this heading">¶</a></h2>
<p>Form-Data is released under the <a class="reference download internal" download="" href="../../../_downloads/ffc10e6e4a761c248e7e266f5cfdf3b0/License"><span class="xref download myst">MIT</span></a> license.</p>
</section>
</section>

        </article>
        <button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Reen al supro</span>
</button>
        
        
        
      </div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>Copyright © 2024, Python Perú</p>
        
        <p>
          Made with
          
          <a href="https://www.sphinx-doc.org/">Sphinx</a> and
          
          <a href="https://shibuya.lepture.com">Shibuya theme</a>.
        </p>
      </div>
      <div class="sy-foot-socials">
      </div>
    </div>
  </div>
</footer></div>
      <script src="../../../_static/documentation_options.js?v=a20647df"></script>
      <script src="../../../_static/doctools.js?v=888ff710"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f281be69"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
      <script src="../../../_static/translations.js?v=efdbd0b9"></script>
      <script src="../../../_static/design-tabs.js?v=36754332"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script src="../../../_static/shibuya.js?v=a2cf054a"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    
</body>
</html>